@page "/payment-success"
@using NeonGadgetStore.Web.Services
@inject NavigationManager Navigation

<PageTitle>Payment Successful - ElectroHub</PageTitle>

<div class="min-h-screen flex items-center justify-center px-4 py-24">
    <div class="text-center max-w-md">
        <div class="w-24 h-24 mx-auto mb-8 rounded-full bg-green-500/10 flex items-center justify-center animate-pulse-glow">
            <svg class="w-12 h-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
        </div>
        
        <h1 class="text-3xl font-bold mb-4">Payment Successful!</h1>
        <p class="text-muted-foreground mb-2">Thank you for your order.</p>
        
        @if (!string.IsNullOrEmpty(orderId))
        {
            <p class="text-muted-foreground mb-8">
                Your order ID is: <span class="font-mono font-bold text-foreground">#@orderId</span>
            </p>
        }

        <div class="bg-card rounded-2xl border border-border p-6 mb-8 text-left">
            <h2 class="font-semibold mb-4">What's next?</h2>
            <ul class="space-y-3 text-sm text-muted-foreground">
                <li class="flex items-start gap-3">
                    <svg class="w-5 h-5 text-primary mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    <span>You will receive an order confirmation email shortly.</span>
                </li>
                <li class="flex items-start gap-3">
                    <svg class="w-5 h-5 text-primary mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                    <span>Your order is being processed and will be shipped soon.</span>
                </li>
                <li class="flex items-start gap-3">
                    <svg class="w-5 h-5 text-primary mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                    <span>You can track your order status in your account.</span>
                </li>
            </ul>
        </div>

        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/orders" class="btn btn-primary btn-lg rounded-xl">
                View Orders
            </a>
            <a href="/" class="btn btn-outline btn-lg rounded-xl">
                Continue Shopping
            </a>
        </div>
    </div>
</div>

@code {
    private string? orderId;

    protected override void OnInitialized()
    {
        var uri = new Uri(Navigation.Uri);
        var query = System.Web.HttpUtility.ParseQueryString(uri.Query);
        orderId = query["orderId"];
    }
}
